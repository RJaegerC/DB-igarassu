-- Exemplo de consulta buscando uma rota real de entrega.

/* SELECT
u.id as uid, s.usuario_id as suid, so.usuario_id as souid, e.solicitacoes_id as eid, u.nome as unome, s.nome as snome, so.resultado, e.descricao
FROM igarassu.usuarios as u
LEFT JOIN igarassu.solicitantes as s on u.id = s.usuario_id
LEFT JOIN igarassu.solicitacoes as so on u.id = so.usuario_id
INNER JOIN igarassu.entregas as e on so.id = e.solicitacoes_id
ORDER BY uid ASC
LIMIT 5; */

-- Exemplo de consulta buscando agendamentos totais

/* SELECT s.id, s.nome, COUNT(ag.id) as total_agendamentos,
GROUP_CONCAT(ag.id ORDER BY ag.id) as agid
FROM igarassu.solicitantes as s
LEFT JOIN igarassu.agendamentos as ag on ag.solicitantes_id = s.id
WHERE s.nome LIKE 'Andre%'
GROUP BY s.id, s.nome; */

-- Exemplo de consulta de campos deletados pelo soft delete

/* SELECT id FROM igarassu.solicitacoes as s 
WHERE s.resultado  = FALSE */

/* UPDATE igarassu.solicitacoes as s SET deleted_at = now() 
WHERE s.id IN (2,4,7); */

/* SELECT * FROM igarassu.solicitacoes as s 
WHERE s.deleted_at IS NOT NULL; */

-- Consulta da tabela normal

/* SELECT * FROM igarassu.solicitacoes as s 
WHERE s.deleted_at IS NULL; */
